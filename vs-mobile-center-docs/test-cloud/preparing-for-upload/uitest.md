---
title: Preparing Xamarin.UITests for Upload
description: How to upload Xamarin.UITests to Mobile Centre for Test
keywords: test cloud
author: glennwester
ms.author: glwest
ms.reviewer: crdun
ms.date: 09/15/2017
ms.topic: article
ms.assetid: 10be6410-6661-45df-931d-2737ed369752
ms.service: vs-appcenter
ms.custom: test
---

# Preparing Xamarin.UITests for Upload 

After UITests have been written for a Xamarin app, the app and tests may be uploaded to Mobile Centre for extensive testing on real devices. This section provides details on preparing a Xamarin mobile application before submitting Xamarin.UITests for Xamarin mobile apps to Mobile Centre for Test. 

Before submitting a test, it is necessary to [create an app](~/dashboard/creating-and-managing-apps.md) in [Visual Studio App Center](https://appcenter.ms/), and then to create a _test run_ using the Test Run wizard that is available under the **Test** service.

When the Test Run Wizard is finished, it will provide a sample command line that can be used to submit the app and UITests to App Center for Test. These two snippets are examples of a command line generated by the Test Run wizard:

For a Xamarin.Android application, the Test Run wizard will create a command line similar to this snippet:  

```
appcenter test run uitest --app "<APP NAME>" --devices "<DEVICE SET NAME>" --app-path <PATH_TO_APK> --test-series "<TEST SERIES>" --locale "en_US" --build-dir <PATH TO UITEST BUILD DIRECTORY>
```
For Xamarin.iOS, the Test Run wizard will create a command line that resembles the following snippet: 

```
appcenter test run uitest --app "<APP NAME>" --devices <DEVICE SET ID> --app-path <PATH TO IPA> --test-series "<TEST SERIES>" --locale "en_US" --build-dir <PATH TO UITEST BUILD DIRECTORY>
```

The command line parameters include the following pieces of information that is specific to the rest run that was created:

* **APP NAME** &ndash; The name of the app that was created in App Center.
* **PATH TO APK / IPA** &ndash; This is the path to the app to be tested.
* **DEVICE SET NAME / ID** &ndash; This is a value that represents the _device set_ to run the apps on. A device set is a collection of devices and operating systems.
* **TEST SERIES** &ndash; This is a label that is used to group a series of related test runs together. By default, the value of the test series is _master_. 
* **PATH TO UITEST BUILD DIRECTORY** &ndash; The path to the directory that holds the UITest assembly.

After the test run has been created, ensure that the following software is installed on the computer that will submit the tests: 

1. Ensure that the computer has [Node.js](https://nodejs.org/en/) 6.3 installed.
2. Install the [App Center CLI](~/cli/index.md). Instructions for [installing the App Center CLI](https://github.com/Microsoft/AppCenter-CLI#installation) maybe be found in the [README.md on Github](https://github.com/Microsoft/AppCenter-CLI).

## Preparing Xamarin.Android Apps

The two steps detail what is necessary to prepare a Xamarin.Android app and UITest for submission to Mobile Centre for Test: 

1. Ensure that the app requests the `INTERNET` permission.
2. Disable the **Shared Mono Runtime**. The Shared Mono Runtime will prevent UITests from running in App Center for Test. 

    On Visual Studio 2017, open the project properties, and select the **Android Options** tab. The first section, **Packaging Properties** will have a checkbox for the **Shared Mono Runtime**. 
    
    On Visual Studio for Mac, look in the **Project Options**, under **Build > Android Build**. The **Packaging and Deployment** section of the  **General** tab will have a checkbox for the **Shared Mono Runtime**.

## Preparing Xamarin.iOS Apps

Xamarin.iOS apps must have the Xamarin Test Cloud Agent linked into the IPA. If necessary, see the guide [Adding Xamarin.UITests to a Solution](https://developer.xamarin.com/guides/testcloud/uitest/adding-uitest/#Adding_the_Xamarin_Test_Cloud_Agent_to_the_iOS_Project) on the Xamarin website for details to how to add the Xamarin Test Cloud Agent to a Xamarin.iOS application.
